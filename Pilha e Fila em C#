// Este programa verifica se uma frase é um palíndromo, ignorando acentos, espaços e pontuações.
//Aluno: Luiz Gustavo Pereira da Silva



using System;
using System.Collections.Generic;
using System.Globalization;
using System.Text;

class Program
{
    // Método para remover acentos
    static string RemoverAcentos(string texto)
    {
        string textoNormalizado = texto.Normalize(NormalizationForm.FormD);
        StringBuilder sb = new StringBuilder();

        foreach (char c in textoNormalizado)
        {
            if (Char.GetUnicodeCategory(c) != UnicodeCategory.NonSpacingMark)
            {
                sb.Append(c);
            }
        }

        return sb.ToString();
    }

    static void Main(string[] args)
    {
        Console.Write("Escreva uma frase: ");
        string frase = Console.ReadLine();
        Console.WriteLine();

        string fraseMinuscula = RemoverAcentos(frase.ToLower());
        string fraseLimpa = "";

        // Mantém apenas caracteres alfanuméricos
        foreach (char c in fraseMinuscula)
        {
            if (char.IsLetterOrDigit(c))
            {
                fraseLimpa += c;
            }
        }

        // Cria pilha e fila
        Stack<char> pilha = new Stack<char>();
        Queue<char> fila = new Queue<char>();

        // Preenche as duas estruturas
        foreach (char c in fraseLimpa)
        {
            pilha.Push(c);
            fila.Enqueue(c);
        }

        bool ehPalindromo = true;

        // Compara pilha e fila
        while (pilha.Count > 0)
        {
            char daPilha = pilha.Pop();
            char daFila = fila.Dequeue();

            if (daPilha != daFila)
            {
                ehPalindromo = false;
                break;
            }
        }

        Console.WriteLine("Frase limpa: " + fraseLimpa);
        Console.WriteLine();

        if (ehPalindromo)
        {
            Console.WriteLine("A frase é um palíndromo");
        }
        else
        {
            Console.WriteLine("A frase não é um palíndromo");
        }
    }
}
